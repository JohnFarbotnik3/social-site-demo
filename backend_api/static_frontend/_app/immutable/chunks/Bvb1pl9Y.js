import{G as R,h as b,H as re,I as ne,J as le,b as fe,i as G,v as ie,K as se,M as J,N as k,c as w,O as ue,Q as $,a as z,R as ve,T as F,U as P,V as te,x as _e,W as K,X as D,Y as de,Z as Q,_ as V,$ as oe,a0 as L,a1 as W,a2 as ce,a3 as he,a4 as Ee,d as me,a5 as Te,a6 as Ae,a7 as Ie,y as xe,a8 as be}from"./BHUsKUmi.js";import{l as Ce}from"./CqqEqyuc.js";function Me(e,a){return a}function Ne(e,a,r,v){for(var i=[],s=a.length,t=0;t<s;t++)ce(a[t].e,i,!0);var o=s>0&&i.length===0&&r!==null;if(o){var T=r.parentNode;he(T),T.append(r),v.clear(),C(e,a[0].prev,a[s-1].next)}Ee(i,()=>{for(var h=0;h<s;h++){var d=a[h];o||(v.delete(d.k),C(e,d.prev,d.next)),me(d.e,!o)}})}function Re(e,a,r,v,i,s=null){var t=e,o={flags:a,items:new Map,first:null},T=(a&F)!==0;if(T){var h=e;t=b?R(re(h)):h.appendChild(ne())}b&&le();var d=null,N=!1,f=ie(()=>{var _=r();return te(_)?_:_==null?[]:P(_)});fe(()=>{var _=G(f),n=_.length;if(N&&n===0)return;N=n===0;let I=!1;if(b){var E=t.data===se;E!==(n===0)&&(t=J(),R(t),k(!1),I=!0)}if(b){for(var m=null,A,c=0;c<n;c++){if(w.nodeType===8&&w.data===ue){t=w,I=!0,k(!1);break}var l=_[c],u=v(l,c);A=j(w,o,m,null,l,u,c,i,a,r),o.items.set(u,A),m=A}n>0&&R(J())}b||Se(_,o,t,i,a,v,r),s!==null&&(n===0?d?$(d):d=z(()=>s(t)):d!==null&&ve(d,()=>{d=null})),I&&k(!0),G(f)}),b&&(t=w)}function Se(e,a,r,v,i,s,t){var q,U,X,p;var o=(i&oe)!==0,T=(i&(L|V))!==0,h=e.length,d=a.items,N=a.first,f=N,_,n=null,I,E=[],m=[],A,c,l,u;if(o)for(u=0;u<h;u+=1)A=e[u],c=s(A,u),l=d.get(c),l!==void 0&&((q=l.a)==null||q.measure(),(I??(I=new Set)).add(l));for(u=0;u<h;u+=1){if(A=e[u],c=s(A,u),l=d.get(c),l===void 0){var ee=f?f.e.nodes_start:r;n=j(ee,a,n,n===null?a.first:n.next,A,c,u,v,i,t),d.set(c,n),E=[],m=[],f=n.next;continue}if(T&&we(l,A,u,i),l.e.f&D&&($(l.e),o&&((U=l.a)==null||U.unfix(),(I??(I=new Set)).delete(l))),l!==f){if(_!==void 0&&_.has(l)){if(E.length<m.length){var y=m[0],x;n=y.prev;var Y=E[0],H=E[E.length-1];for(x=0;x<E.length;x+=1)Z(E[x],y,r);for(x=0;x<m.length;x+=1)_.delete(m[x]);C(a,Y.prev,H.next),C(a,n,Y),C(a,H,y),f=y,n=H,u-=1,E=[],m=[]}else _.delete(l),Z(l,f,r),C(a,l.prev,l.next),C(a,l,n===null?a.first:n.next),C(a,n,l),n=l;continue}for(E=[],m=[];f!==null&&f.k!==c;)f.e.f&D||(_??(_=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;l=f}E.push(l),n=l,f=l.next}if(f!==null||_!==void 0){for(var S=_===void 0?[]:P(_);f!==null;)f.e.f&D||S.push(f),f=f.next;var M=S.length;if(M>0){var ae=i&F&&h===0?r:null;if(o){for(u=0;u<M;u+=1)(X=S[u].a)==null||X.measure();for(u=0;u<M;u+=1)(p=S[u].a)==null||p.fix()}Ne(a,S,ae,d)}}o&&de(()=>{var B;if(I!==void 0)for(l of I)(B=l.a)==null||B.apply()}),Q.first=a.first&&a.first.e,Q.last=n&&n.e}function we(e,a,r,v){v&L&&W(e.v,a),v&V?W(e.i,r):e.i=r}function j(e,a,r,v,i,s,t,o,T,h){var d=(T&L)!==0,N=(T&Te)===0,f=d?N?_e(i):K(i):i,_=T&V?K(t):t,n={i:_,v:f,k:s,a:null,e:null,prev:r,next:v};try{return n.e=z(()=>o(e,f,_,h),b),n.e.prev=r&&r.e,n.e.next=v&&v.e,r===null?a.first=n:(r.next=n,r.e.next=n.e),v!==null&&(v.prev=n,v.e.prev=n.e),n}finally{}}function Z(e,a,r){for(var v=e.next?e.next.e.nodes_start:r,i=a?a.e.nodes_start:r,s=e.e.nodes_start;s!==v;){var t=Ae(s);i.before(s),s=t}}function C(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ke(e,a,r=a){var v=Ie();Ce(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=g(e)?O(s):s,r(s),v&&s!==(s=a())){var t=e.selectionStart,o=e.selectionEnd;e.value=s??"",o!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(o,e.value.length))}}),(b&&e.defaultValue!==e.value||xe(a)==null&&e.value)&&r(g(e)?O(e.value):e.value),be(()=>{var i=a();g(e)&&i===O(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function g(e){var a=e.type;return a==="number"||a==="range"}function O(e){return e===""?null:+e}export{ke as b,Re as e,Me as i};
