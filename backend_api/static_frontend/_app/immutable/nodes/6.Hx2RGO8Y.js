import{t as A,a as P}from"../chunks/CghSzh9C.js";import{p as se,u as ae,f as ne,g as t,s as u,i as e,l as q,j as b,r as g,k as n,t as O}from"../chunks/BHUsKUmi.js";import{d as oe,s as Q}from"../chunks/CqqEqyuc.js";import{p as r,i as H}from"../chunks/ZOBCVC-6.js";import{e as J,i as ie,r as le,s as ue,t as de}from"../chunks/CmaycYwG.js";import{C as _e,F as $,b as ve,i as ce,a as fe}from"../chunks/4qK-fa7K.js";import"../chunks/CT4i67Up.js";function R(E,z,o){t(z,1),t(o,null)}function me(E,z,o){t(z,2),t(o,null)}async function T(E,z,o,w,_,c,f,y){const x=e(z),I=e(o),F=e(w),L=e(_);if(e(c)===1){const s=await ue({username:x,nickname:I});s.success?f():t(y,r(s.message))}if(e(c)===2){const s=await de({password:F},L);s.success?f():t(y,r(s.message))}}async function pe(){ie("/"),await le()}var be=A('<div class="action_buttons svelte-339izz"><button class="svelte-339izz">Edit</button></div> <!> <!>',1),ge=A('<div class="action_buttons svelte-339izz"><button class="svelte-339izz">Cancel</button></div> <!> <!> <div class="action_buttons svelte-339izz"><button class="svelte-339izz">Submit</button> <button class="svelte-339izz">Change password</button></div> <div class="errmsg svelte-339izz"> </div>',1),ze=A('<div class="action_buttons svelte-339izz"><button class="svelte-339izz">Back</button></div> <!> <!> <div class="action_buttons svelte-339izz"><button class="svelte-339izz">Submit</button></div> <div class="errmsg svelte-339izz"> </div>',1),we=A('<div class="action_buttons svelte-339izz"><button class="logout_button svelte-339izz">Log out</button></div> <!> <!> <!>',1);function je(E,z){se(z,!0);let o=u(void 0),w=u(void 0),_=u(void 0),c=u(void 0),f=u(void 0),y=u(void 0),x=u(void 0),I=u(void 0),F=u(void 0);ae(()=>{t(F,r(e(w)||e(y)||e(c)))});function L(){t(o,r(J.username)),t(f,r(J.password)),t(_,r(J.nickname))}L();let s=u(0),d=u("");function D(){t(s,0),t(d,null),L()}const U=ce,V=fe,W=ve;_e(E,{style:"width:200px;",children:(X,ke)=>{var K=we(),G=q(K),Y=b(G);Y.__click=[pe],g(G);var M=n(G,2);{var Z=i=>{var m=be(),l=q(m),S=b(l);S.__click=[R,s,d],g(l);var p=n(l,2);$(p,{readonly:!0,info:null,label:"nickname",get value(){return e(_)},set value(a){t(_,r(a))},get error(){return e(c)},set error(a){t(c,r(a))}});var k=n(p,2);$(k,{readonly:!0,info:null,label:"username",get value(){return e(o)},set value(a){t(o,r(a))},get error(){return e(w)},set error(a){t(w,r(a))}}),P(i,m)};H(M,i=>{e(s)===0&&i(Z)})}var N=n(M,2);{var ee=i=>{var m=ge(),l=q(m),S=b(l);S.__click=D,g(l);var p=n(l,2);$(p,{readonly:!1,info:W,label:"nickname",type:"text",get value(){return e(_)},set value(h){t(_,r(h))},get error(){return e(c)},set error(h){t(c,r(h))}});var k=n(p,2);$(k,{readonly:!1,info:U,label:"username",type:"text",get value(){return e(o)},set value(h){t(o,r(h))},get error(){return e(w)},set error(h){t(w,r(h))}});var a=n(k,2),C=b(a);C.__click=[T,o,_,f,x,s,D,d];var j=n(C,2);j.__click=[me,s,d],g(a);var B=n(a,2),v=b(B,!0);g(B),O(()=>{C.disabled=!!e(F),B.hidden=!e(d),Q(v,e(d))}),P(i,m)};H(N,i=>{e(s)===1&&i(ee)})}var te=n(N,2);{var re=i=>{var m=ze(),l=q(m),S=b(l);S.__click=[R,s,d],g(l);var p=n(l,2);$(p,{readonly:!1,info:null,label:"old password",name:"password",mustmatch:!1,get value(){return e(x)},set value(v){t(x,r(v))},get error(){return e(I)},set error(v){t(I,r(v))}});var k=n(p,2);$(k,{readonly:!1,info:V,label:"new password",type:"password",mustmatch:!0,get value(){return e(f)},set value(v){t(f,r(v))},get error(){return e(y)},set error(v){t(y,r(v))}});var a=n(k,2),C=b(a);C.__click=[T,o,_,f,x,s,D,d],g(a);var j=n(a,2),B=b(j,!0);g(j),O(()=>{C.disabled=!!e(F),j.hidden=!e(d),Q(B,e(d))}),P(i,m)};H(te,i=>{e(s)===2&&i(re)})}P(X,K)},$$slots:{default:!0}}),ne()}oe(["click"]);export{je as component};
